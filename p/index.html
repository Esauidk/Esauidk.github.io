<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Matrix Transformation The reason we keep things like translations as a matrix transformation instead of a simple collumn addition is for EFFICIENCY.
If we wanted to do multiple transformations on an objects.
$$(M_N * &amp;hellip; * M_1) * P $$
is easier than
$$(M_2 * ((M_1 * P ) + T_1) + T_2)$$
We can calculate the overall matrix onces instead of doing multiple computations for multiple points
Types of transformation $$T(x,y,z) = Translation$$ $$S(x,y,z) = Scaling$$ $$Rx(theta) = \text{Rotation over x-axis}$$ $$Ry(theta) = \text{Rotation over y-axis}$$ $$Rz(theta) = \text{Rotation over z-axis}$$"><title></title><link rel=canonical href=/p/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content><meta property="og:description" content="Matrix Transformation The reason we keep things like translations as a matrix transformation instead of a simple collumn addition is for EFFICIENCY.
If we wanted to do multiple transformations on an objects.
$$(M_N * &amp;hellip; * M_1) * P $$
is easier than
$$(M_2 * ((M_1 * P ) + T_1) + T_2)$$
We can calculate the overall matrix onces instead of doing multiple computations for multiple points
Types of transformation $$T(x,y,z) = Translation$$ $$S(x,y,z) = Scaling$$ $$Rx(theta) = \text{Rotation over x-axis}$$ $$Ry(theta) = \text{Rotation over y-axis}$$ $$Rz(theta) = \text{Rotation over z-axis}$$"><meta property="og:url" content="/p/"><meta property="og:site_name" content="Esau's Page"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta name=twitter:title content><meta name=twitter:description content="Matrix Transformation The reason we keep things like translations as a matrix transformation instead of a simple collumn addition is for EFFICIENCY.
If we wanted to do multiple transformations on an objects.
$$(M_N * &amp;hellip; * M_1) * P $$
is easier than
$$(M_2 * ((M_1 * P ) + T_1) + T_2)$$
We can calculate the overall matrix onces instead of doing multiple computations for multiple points
Types of transformation $$T(x,y,z) = Translation$$ $$S(x,y,z) = Scaling$$ $$Rx(theta) = \text{Rotation over x-axis}$$ $$Ry(theta) = \text{Rotation over y-axis}$$ $$Rz(theta) = \text{Rotation over z-axis}$$"></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>Back</span></a></div><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><h2 class=article-title><a href=/p/></a></h2><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><h2 id=matrix-transformation>Matrix Transformation</h2><p>The reason we keep things like translations as a matrix transformation instead of a simple collumn addition is for <strong>EFFICIENCY</strong>.</p><p>If we wanted to do multiple transformations on an objects.</p><p>$$(M_N * &mldr; * M_1) * P $$</p><p>is easier than</p><p>$$(M_2 * ((M_1 * P ) + T_1) + T_2)$$</p><p>We can calculate the overall matrix onces instead of doing multiple computations for multiple points</p><h3 id=types-of-transformation>Types of transformation</h3><p>$$T(x,y,z) = Translation$$
$$S(x,y,z) = Scaling$$
$$Rx(theta) = \text{Rotation over x-axis}$$
$$Ry(theta) = \text{Rotation over y-axis}$$
$$Rz(theta) = \text{Rotation over z-axis}$$</p><h3 id=example-of-transformation>Example of transformation</h3><p>Let&rsquo;s say we want to rotate an object ϴ on a 2D plane with a point P as it&rsquo;s rotation pivot:</p><ol><li>You want to first translate the object to have point P of the object be at the origin (anything at the origin will not be affected during scaling, translation, or rotation)<ol><li>$$T(-p.x,-p.y,-p.z) = P $$</li></ol></li><li>Next you want to do a rotation around the z-axis (since we are in 2D)<ol><li>$$Rz(ϴ) * T(-p.x, -p.y, -p.z) = P$$</li></ol></li><li>Finally you want to move the object back to its original position<ol><li>$$T(p.x, p.y, p.z) * Rz(ϴ) * T(-p.x, -p.y, -p.z) = P$$</li></ol></li></ol><p><em>Note: Matrix operations go right to left, you need to order the matricies in the order of the transformations correctly</em></p><h2 id=hierachical-models>Hierachical Models</h2><p>With most models, we want certain objects to move similar to joints, where they move if a parent object moves. This is a form called <strong>Hierachical modeling</strong></p><p>You can view it like this:</p><ul><li>World<ul><li>Body<ul><li>Arms<ul><li>Hands<ul><li>Fingers</li></ul></li></ul></li><li>Head<ul><li>Ears</li><li>Eyes</li></ul></li></ul></li></ul></li></ul><p>You can view this as a tree of different matrix transformations</p><h3 id=coordinate-frames>Coordinate Frames</h3><p>You can imagine a coordinate frame as a screenshot of the coordinate system/unit vectors transposed and rotated in some fashion.</p><p>In a hierachical system, each parent-child relationship comes with a coordinate frame that dictates the world view of the particular object</p><p><figure class=gallery-image style=flex-grow:65;flex-basis:158px><a href=/p/coordinateFrames.png data-size=332x504><img src=/p/coordinateFrames.png width=332 height=504 srcset="/p/coordinateFrames_hu501f4754882fa586b38eda48d2318a36_128655_480x0_resize_box_3.png 480w, /p/coordinateFrames_hu501f4754882fa586b38eda48d2318a36_128655_1024x0_resize_box_3.png 1024w" loading=lazy alt=frames></a><figcaption>frames</figcaption></figure></p><p>In a hiearchy, a coordinate frame is made up from the previous coordinate frames from the parents above.</p><p>In the above example:
C_0 = T_0
C_1 = T_1 * R_x_1 (ϴ) * C_0
C_2 = T_2 * R_x_2 * C_1</p><p>Each object uses their own coordinate frame to determine the position of their pixels
Blue = C_0 * T * S
Red = C_1 * T * S
Green = C_2 * T * S</p><p>With these, if a parents moves in someway, the children will also be affected by them.</p><p>Another way to view the relationships is like this:<figure class=gallery-image style=flex-grow:85;flex-basis:206px><a href=/p/hierarchyTree.png data-size=658x766><img src=/p/hierarchyTree.png width=658 height=766 srcset="/p/hierarchyTree_hu379017cd298dd767776d8bc8dfe8c0eb_70060_480x0_resize_box_3.png 480w, /p/hierarchyTree_hu379017cd298dd767776d8bc8dfe8c0eb_70060_1024x0_resize_box_3.png 1024w" loading=lazy alt=hierarchyTree></a><figcaption>hierarchyTree</figcaption></figure></p><p>Now to actually do the math to create these objects, you need to create the overaching matricies multipled with the points of the object.</p><h3 id=generating-the-hierachical-matrix>Generating the hierachical matrix</h3><p>You can view this process as a in-order traversal/DFS using a stack. The stack represents the current overall matrix while you push and pop mini transformation components.</p><ol><li><p>We start with generating the blue block by adding the first coordinate frame into the stack and then adding the block&rsquo;s independent transformations into the stack.<figure class=gallery-image style=flex-grow:109;flex-basis:262px><a href=/p/step1.png data-size=928x848><img src=/p/step1.png width=928 height=848 srcset="/p/step1_hu722deab187dd036be294eea709522527_278667_480x0_resize_box_3.png 480w, /p/step1_hu722deab187dd036be294eea709522527_278667_1024x0_resize_box_3.png 1024w" loading=lazy alt=step1></a><figcaption>step1</figcaption></figure></p></li><li><p>We then remove the independent transformations of the blue block and add in the additional transformations that make up our next coordinate frame. We then add in the independent transforations of the red block<figure class=gallery-image style=flex-grow:108;flex-basis:260px><a href=/p/step2.png data-size=940x866><img src=/p/step2.png width=940 height=866 srcset="/p/step2_hu5f9bd2ef6a1227cd1b6cc0f6d312f687_91339_480x0_resize_box_3.png 480w, /p/step2_hu5f9bd2ef6a1227cd1b6cc0f6d312f687_91339_1024x0_resize_box_3.png 1024w" loading=lazy alt=step2></a><figcaption>step2</figcaption></figure></p></li><li><p>We then perform the same steps, remove independent transformations -> create next coordinate frame, add in new independent transformations</p></li></ol><p><figure class=gallery-image style=flex-grow:108;flex-basis:259px><a href=/p/finalStep.png data-size=804x744><img src=/p/finalStep.png width=804 height=744 srcset="/p/finalStep_hu371377724c1064b1fa38f67b56912919_257468_480x0_resize_box_3.png 480w, /p/finalStep_hu371377724c1064b1fa38f67b56912919_257468_1024x0_resize_box_3.png 1024w" loading=lazy alt=step3></a><figcaption>step3</figcaption></figure></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2022 Esau's Page</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.5.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#matrix-transformation>Matrix Transformation</a><ol><li><a href=#types-of-transformation>Types of transformation</a></li><li><a href=#example-of-transformation>Example of transformation</a></li></ol></li><li><a href=#hierachical-models>Hierachical Models</a><ol><li><a href=#coordinate-frames>Coordinate Frames</a></li><li><a href=#generating-the-hierachical-matrix>Generating the hierachical matrix</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>
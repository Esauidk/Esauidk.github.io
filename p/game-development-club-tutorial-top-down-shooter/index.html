<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A tutorial to make very simple top down shooter"><title>Game Development Club Tutorial: Top Down Shooter</title><link rel=canonical href=/p/game-development-club-tutorial-top-down-shooter/><link rel=stylesheet href=/scss/style.min.18145888f21de6cb02d8cb0891be8240096206785da14eda35f6c23c239b966a.css><meta property="og:title" content="Game Development Club Tutorial: Top Down Shooter"><meta property="og:description" content="A tutorial to make very simple top down shooter"><meta property="og:url" content="/p/game-development-club-tutorial-top-down-shooter/"><meta property="og:site_name" content="Esau's Page"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-10-16T00:00:00+00:00"><meta property="article:modified_time" content="2022-10-16T00:00:00+00:00"><meta property="og:image" content="https://media.giphy.com/media/XBuy9qvp3CDZes7YC5/giphy.gif"><meta name=twitter:title content="Game Development Club Tutorial: Top Down Shooter"><meta name=twitter:description content="A tutorial to make very simple top down shooter"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://media.giphy.com/media/XBuy9qvp3CDZes7YC5/giphy.gif"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/pfpAvatar_hub44e2d825aca343e2892b71309d0a58f_25815_300x0_resize_q75_box.jpg width=300 height=302 class=site-logo loading=lazy alt=Avatar></a>
<span class=emoji>ðŸ’»</span></figure><div class=site-meta><h1 class=site-name><a href=/>Esau's Page</a></h1><h2 class=site-description>A collection of my work and things I've explored</h2></div></header><ol class=social-menu><li><a href=https://github.com/Esauidk target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></div></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/game-development-club-tutorial-top-down-shooter/><img src=https://media.giphy.com/media/XBuy9qvp3CDZes7YC5/giphy.gif loading=lazy alt="Featured image of post Game Development Club Tutorial: Top Down Shooter"></a></div><div class=article-details><header class=article-category><a href=/categories/unity/>Unity</a>
<a href=/categories/game-development/>Game Development</a>
<a href=/categories/c#/>C#</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/game-development-club-tutorial-top-down-shooter/>Game Development Club Tutorial: Top Down Shooter</a></h2><h3 class=article-subtitle>A tutorial to make very simple top down shooter</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Oct 16, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>19 minute read</time></div></footer></div></header><section class=article-content><h1 id=welcome>Welcome!</h1><p>Welcome to the top down shooter tutorial! The purpose of this blog is to be used to follow along during the game development club tutorial meeting but all are welcome to view this and learn from it!</p><h1 id=getting-started>Getting Started</h1><h2 id=downloading-unity>Downloading Unity</h2><p>If you don&rsquo;t already have Unity downloaded, go ahead and download the <strong><a class=link href=https://unity.com/download target=_blank rel=noopener>hub</a></strong></p><p><img src=/p/game-development-club-tutorial-top-down-shooter/hub.png width=2880 height=994 srcset="/p/game-development-club-tutorial-top-down-shooter/hub_huf68e7d75c7449343d525c7587c72f428_2271721_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/hub_huf68e7d75c7449343d525c7587c72f428_2271721_1024x0_resize_box_3.png 1024w" loading=lazy alt=Hub class=gallery-image data-flex-grow=289 data-flex-basis=695px></p><p>Finishing signing in and navigate to the editor installation area</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/editorinstall.png width=2034 height=1186 srcset="/p/game-development-club-tutorial-top-down-shooter/editorinstall_huc99350abe2beda552a92cfe894d0671f_187908_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/editorinstall_huc99350abe2beda552a92cfe894d0671f_187908_1024x0_resize_box_3.png 1024w" loading=lazy alt=Editor class=gallery-image data-flex-grow=171 data-flex-basis=411px></p><p>This tutorial will be using version <strong>2021.3.11f1</strong> but what matters is that you use a version that is <strong>2021.3.x</strong> and is <strong>LTS</strong></p><h2 id=creating-project>Creating Project</h2><p>We&rsquo;re going to be creating a top down shooter so we&rsquo;re going to want to use the 2D URP (Universal Render Pipeline). To ensures that the proper render settings are set</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/projectCreation.png width=2018 height=1178 srcset="/p/game-development-club-tutorial-top-down-shooter/projectCreation_hued6da820c98a54858c880b76565674f7_362215_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/projectCreation_hued6da820c98a54858c880b76565674f7_362215_1024x0_resize_box_3.png 1024w" loading=lazy alt=project class=gallery-image data-flex-grow=171 data-flex-basis=411px></p><h1 id=unity-introduction>Unity Introduction</h1><p>In case unity is new to you, here is a quick overivew of the parts of the unity editor</p><h2 id=hierarchy>Hierarchy</h2><p>This section of the editor shows you all the gameobjects in your scene and their relations to each other</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/hierarchy.png width=544 height=1028 srcset="/p/game-development-club-tutorial-top-down-shooter/hierarchy_hu6ad4b4a24514b1fbaad76da5d33b511b_36917_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/hierarchy_hu6ad4b4a24514b1fbaad76da5d33b511b_36917_1024x0_resize_box_3.png 1024w" loading=lazy alt=hierarchy class=gallery-image data-flex-grow=52 data-flex-basis=127px></p><h2 id=views>Views</h2><p>There are two different cameras in use in the unity editor: the game camera & the scene camera</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/views.png width=1680 height=1744 srcset="/p/game-development-club-tutorial-top-down-shooter/views_hud4b7edc257eeba3ccfb18d4a5f2a8439_191435_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/views_hud4b7edc257eeba3ccfb18d4a5f2a8439_191435_1024x0_resize_box_3.png 1024w" loading=lazy alt=views class=gallery-image data-flex-grow=96 data-flex-basis=231px></p><h3 id=scene-view>Scene View</h3><p>The scene view is connected to the scene camera, this is controllable by the user and allows you to see around your scene</p><h3 id=game-view>Game View</h3><p>The game view is connected to the game camera, this is what the player <em>potentially</em> will see (potentially because there can be more than one game camera in a scene). This is represented by an object in your scene marked as a camera. You can only move it if you move the camera object.</p><h2 id=inspector>Inspector</h2><p>Unity is a component based engine, this means that every object stores a collection of different scripts that do different things, they are all ran doing the object&rsquo;s execution</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/inspector.png width=698 height=960 srcset="/p/game-development-club-tutorial-top-down-shooter/inspector_hu989e304cc4d6ef1cb1c48c4d3e382ae7_102469_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/inspector_hu989e304cc4d6ef1cb1c48c4d3e382ae7_102469_1024x0_resize_box_3.png 1024w" loading=lazy alt=inspector class=gallery-image data-flex-grow=72 data-flex-basis=174px></p><h2 id=project--console>Project & Console</h2><p>Project allows you to view all the assets you have available for use</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/project.png width=1540 height=692 srcset="/p/game-development-club-tutorial-top-down-shooter/project_hu500896361bcf0faa43656b077628b6df_116898_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/project_hu500896361bcf0faa43656b077628b6df_116898_1024x0_resize_box_3.png 1024w" loading=lazy alt=project class=gallery-image data-flex-grow=222 data-flex-basis=534px></p><p>The console is a window used for debugging, it allows you to print information from your code</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/console.png width=1546 height=648 srcset="/p/game-development-club-tutorial-top-down-shooter/console_hue79bc5d69054524e8cfce69ec59a4cc8_38052_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/console_hue79bc5d69054524e8cfce69ec59a4cc8_38052_1024x0_resize_box_3.png 1024w" loading=lazy alt=console class=gallery-image data-flex-grow=238 data-flex-basis=572px></p><h1 id=player>Player</h1><p>Getting started on making this top down, let&rsquo;s start with the player</p><h2 id=sprite>Sprite</h2><p>We need some way to represent the character! We&rsquo;re going to use the default spirtes available in unity to create the player</p><p>We&rsquo;re going to create an empty gameboject and call it <strong>playe</strong>r</p><p>We&rsquo;re going to creating the body and call it <strong>body</strong> and attach it to <strong>player</strong>
<img src=/p/game-development-club-tutorial-top-down-shooter/creatingSpirte.png width=2158 height=1372 srcset="/p/game-development-club-tutorial-top-down-shooter/creatingSpirte_huf614cf6ca2f0abab915c5efae4f9e3fb_455484_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/creatingSpirte_huf614cf6ca2f0abab915c5efae4f9e3fb_455484_1024x0_resize_box_3.png 1024w" loading=lazy alt=spirte class=gallery-image data-flex-grow=157 data-flex-basis=377px></p><p>Let&rsquo;s make this a tank! We&rsquo;re going to attach the canon to it by creating another defaut sprite but attaching it to the <strong>body</strong> GameObject. We&rsquo;re also going to scale it to become a canon. We&rsquo;re also going to name this gameobject <strong>canon</strong></p><p><img src=/p/game-development-club-tutorial-top-down-shooter/createCanon.png width=2872 height=990 srcset="/p/game-development-club-tutorial-top-down-shooter/createCanon_hu338291832793733b8c1f85cd6ce6e9dd_301984_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/createCanon_hu338291832793733b8c1f85cd6ce6e9dd_301984_1024x0_resize_box_3.png 1024w" loading=lazy alt=canon class=gallery-image data-flex-grow=290 data-flex-basis=696px></p><p>Perfect! Now we have our tank</p><h2 id=movement>Movement</h2><p>Now that we have a tank, let&rsquo;s make it move!</p><p>Let&rsquo;s create our own custom code for this, navigate to the player object, click on it, and in the inspector click &ldquo;add compoent&rdquo;</p><p>Navigate to the bottom of the of the components options and click &ldquo;new script&rdquo; and call it <code>PlayerController</code></p><p><img src=/p/game-development-club-tutorial-top-down-shooter/creatingController.png width=2880 height=1800 srcset="/p/game-development-club-tutorial-top-down-shooter/creatingController_hu63cd197203e8f773d3685414daf2ea57_461832_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/creatingController_hu63cd197203e8f773d3685414daf2ea57_461832_1024x0_resize_box_3.png 1024w" loading=lazy alt=controller class=gallery-image data-flex-grow=160 data-flex-basis=384px></p><p>Inside of our new script we&rsquo;re going to write this!</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>PlayerController</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>movementSpeed</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Update is called once per frame</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Update</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleMovement</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>void</span> <span class=n>HandleMovement</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=c1>// If our horizontal buttons are pressed (a or d)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>Input</span><span class=p>.</span><span class=n>GetButton</span><span class=p>(</span><span class=s>&#34;Horizontal&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>            <span class=c1>// which direction are we pressing (-1 == left and 1 == right)</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>direction</span> <span class=p>=</span> <span class=n>Input</span><span class=p>.</span><span class=n>GetAxis</span><span class=p>(</span><span class=s>&#34;Horizontal&#34;</span><span class=p>)</span> <span class=p>&lt;</span> <span class=m>0</span> <span class=p>?</span> <span class=p>-</span><span class=m>1</span> <span class=p>:</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// Update our horizontal position </span>
</span></span><span class=line><span class=cl>            <span class=c1>// (multiple by Time.deltaTime to ensure proper movement if frames come faster or later than normal)</span>
</span></span><span class=line><span class=cl>            <span class=n>transform</span><span class=p>.</span><span class=n>position</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>x</span> <span class=p>+</span> <span class=p>(</span><span class=n>Time</span><span class=p>.</span><span class=n>deltaTime</span> <span class=p>*</span> <span class=n>direction</span> <span class=p>*</span> <span class=n>movementSpeed</span><span class=p>),</span> 
</span></span><span class=line><span class=cl>                                            <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                                            <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>z</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>// If our vertical buttons are pressed (w or s)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>Input</span><span class=p>.</span><span class=n>GetButton</span><span class=p>(</span><span class=s>&#34;Vertical&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>            <span class=c1>// which direction are we pressing (-1 == down and 1 == up)</span>
</span></span><span class=line><span class=cl>            <span class=kt>int</span> <span class=n>direction</span> <span class=p>=</span> <span class=n>Input</span><span class=p>.</span><span class=n>GetAxis</span><span class=p>(</span><span class=s>&#34;Vertical&#34;</span><span class=p>)</span> <span class=p>&lt;</span> <span class=m>0</span> <span class=p>?</span> <span class=p>-</span><span class=m>1</span> <span class=p>:</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=c1>// Update our vertical position </span>
</span></span><span class=line><span class=cl>            <span class=c1>// (multiple by Time.deltaTime to ensure proper movement if frames come faster or later than normal)</span>
</span></span><span class=line><span class=cl>            <span class=n>transform</span><span class=p>.</span><span class=n>position</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>                                            <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>y</span> <span class=p>+</span> <span class=p>(</span><span class=n>Time</span><span class=p>.</span><span class=n>deltaTime</span> <span class=p>*</span> <span class=n>direction</span> <span class=p>*</span> <span class=n>movementSpeed</span><span class=p>),</span> 
</span></span><span class=line><span class=cl>                                            <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>z</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This will update our position by a certain movement speed each frame if the vertical or horizontal buttons are pressed. This uses Unity&rsquo;s input system (allows you to define specific inputs for actions)</p><p><img src=https://media.giphy.com/media/0OfX7KEi59eIHkxg2V/giphy.gif loading=lazy alt=movementFinished></p><h2 id=shooting>Shooting</h2><p>Now that we can move, let&rsquo;s move on to shooting canonballs out of our canon!</p><p>To start off, let&rsquo;s create out canon. We&rsquo;re going to create the canon the same way we create the body of tank (with a circle sprite), but we&rsquo;re going to scale down by some degree (you can choose what you&rsquo;d like)</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/canonball.png width=2880 height=1800 srcset="/p/game-development-club-tutorial-top-down-shooter/canonball_hu63cd197203e8f773d3685414daf2ea57_495777_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/canonball_hu63cd197203e8f773d3685414daf2ea57_495777_1024x0_resize_box_3.png 1024w" loading=lazy alt=canonballs class=gallery-image data-flex-grow=160 data-flex-basis=384px></p><h3 id=prefabs>Prefabs</h3><p>Since this is our canon balls, we&rsquo;re going to need to create multiple copies of these. Prefabs are a way to store your GameObjects as assets to be used and copied later. To make this canon a prefab you just need to drag the gameobject from the hierarchy to the project tab. Let&rsquo;s make the player a prefab too!</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/prefabs.png width=1044 height=220 srcset="/p/game-development-club-tutorial-top-down-shooter/prefabs_huf0dfd54df6265e6b35ebac0cad7b2cbe_40564_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/prefabs_huf0dfd54df6265e6b35ebac0cad7b2cbe_40564_1024x0_resize_box_3.png 1024w" loading=lazy alt=prefab class=gallery-image data-flex-grow=474 data-flex-basis=1138px></p><p>With that we&rsquo;re going to go back to our <code>PlayerController</code> and add a fire ability</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>movementSpeed</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>canonBall</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>canonSpawnLocation</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Update is called once per frame</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Update</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleMovement</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleCanonFiring</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>void</span> <span class=n>HandleCanonFiring</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>Input</span><span class=p>.</span><span class=n>GetButtonDown</span><span class=p>(</span><span class=s>&#34;Fire1&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>            <span class=n>Instantiate</span><span class=p>(</span><span class=n>canonBall</span><span class=p>,</span> <span class=n>canonSpawnLocation</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>identity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p><code>Instantiate()</code> spawns a prefab into the scene world, in this usage at the location where we want the canonballs to spawn at. You can ignore <code>Quaternion.identity</code> it represents a rotation of 0 degrees in all axis&rsquo;s</p><p>Make sure to set <code>canonBall</code> to be the canonball prefab, you can set this in the inspector. And set the <code>canonSpawnLocation</code> variable/field to be a transform of where you want the canonball to spawn at(you can do this by creating an empty gameobject and place it in the place you want the canonball to be placed)</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/canonBallSpawn.png width=2880 height=1800 srcset="/p/game-development-club-tutorial-top-down-shooter/canonBallSpawn_hu63cd197203e8f773d3685414daf2ea57_470077_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/canonBallSpawn_hu63cd197203e8f773d3685414daf2ea57_470077_1024x0_resize_box_3.png 1024w" loading=lazy alt=canonBallSpawn class=gallery-image data-flex-grow=160 data-flex-basis=384px>
<img src=/p/game-development-club-tutorial-top-down-shooter/canonSpawnLocation.png width=1606 height=672 srcset="/p/game-development-club-tutorial-top-down-shooter/canonSpawnLocation_hu048a8d37821d32b19aa2f919257e04b5_100909_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/canonSpawnLocation_hu048a8d37821d32b19aa2f919257e04b5_100909_1024x0_resize_box_3.png 1024w" loading=lazy alt=canonSpawnLocation class=gallery-image data-flex-grow=238 data-flex-basis=573px></p><p><img src=https://media.giphy.com/media/TMtRL5FlQvgy2orVml/giphy.gif loading=lazy alt=canonSpawnComplete></p><p>As you can tell, our canonballs aren&rsquo;t&mldr;.moving</p><h3 id=rigidbody>Rigidbody</h3><p>That&rsquo;s where rigidbodies come into play! Unity has its own physics system that allows you to act physics upon game objects in your scene. Rigidbody allows you to act forces onto your object (like gravity, friction, and other forces)</p><p>Go ahead an add a <code>rigibody2D</code> component to the canonball gameobject prefab</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/rigidbody.png width=694 height=1422 srcset="/p/game-development-club-tutorial-top-down-shooter/rigidbody_hu9f0c0599c81836aabde0c6b8bd50e728_169888_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/rigidbody_hu9f0c0599c81836aabde0c6b8bd50e728_169888_1024x0_resize_box_3.png 1024w" loading=lazy alt=rigidbody class=gallery-image data-flex-grow=48 data-flex-basis=117px></p><p>If you played the game as is you&rsquo;ll see that the canonballs just falls downwards to the void, this is because by default, gravity is acted on the canonball. Since we&rsquo;re doing a top down shooter, we don&rsquo;t want this to happen.</p><p>Go back to the <code>rigidobdy2D</code> component and set the gravity scale to 0, now gravity will no longer act upon our canonball. While you&rsquo;re at it, go to the constraints section and toggle the free z-rotation option.</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/rigidbodySettings.png width=676 height=674 srcset="/p/game-development-club-tutorial-top-down-shooter/rigidbodySettings_hue4c6f3bc4f3c7f3b1faaf72a2788829c_77420_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/rigidbodySettings_hue4c6f3bc4f3c7f3b1faaf72a2788829c_77420_1024x0_resize_box_3.png 1024w" loading=lazy alt=rigidbodySetting class=gallery-image data-flex-grow=100 data-flex-basis=240px></p><h3 id=canonball-impulse>Canonball Impulse</h3><p>Now that we can have forces act upon our canonballs, it&rsquo;s time to write the code to do that. We&rsquo;re going to create a new script called <code>CanonballAction</code> and attach it to the canonball gameobject prefab</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>CanonballAction</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Rigidbody2D</span> <span class=n>rb</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// GetComponent grabs a reference of a type of component living on this gameobject </span>
</span></span><span class=line><span class=cl>        <span class=c1>// can be null if the type isn&#39;t living on this gameobject</span>
</span></span><span class=line><span class=cl>        <span class=n>rb</span> <span class=p>=</span> <span class=n>GetComponent</span><span class=p>&lt;</span><span class=n>Rigidbody2D</span><span class=p>&gt;();</span>    
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Send this object in direction with a magnitude of force</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>SendBall</span><span class=p>(</span><span class=n>Vector2</span> <span class=n>direction</span><span class=p>,</span> <span class=kt>float</span> <span class=n>force</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>rb</span> <span class=p>==</span>  <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>rb</span> <span class=p>=</span> <span class=n>GetComponent</span><span class=p>&lt;</span><span class=n>Rigidbody2D</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=n>rb</span><span class=p>.</span><span class=n>AddForce</span><span class=p>(</span><span class=n>direction</span> <span class=p>*</span> <span class=n>force</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>We then go back to <code>PlayerController</code> and use the <code>SendBall</code> method to make the canonball to move on creation</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>movementSpeed</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl><span class=na>    [Range(200, 500)]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>canonForce</span> <span class=p>=</span> <span class=m>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>canonBall</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>canonSpawnLocation</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>void</span> <span class=n>HandleCanonFiring</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>Input</span><span class=p>.</span><span class=n>GetButtonDown</span><span class=p>(</span><span class=s>&#34;Fire1&#34;</span><span class=p>)){</span>
</span></span><span class=line><span class=cl>            <span class=n>GameObject</span> <span class=n>ball</span> <span class=p>=</span> <span class=n>Instantiate</span><span class=p>(</span><span class=n>canonBall</span><span class=p>,</span> <span class=n>canonSpawnLocation</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>identity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>CanonballAction</span> <span class=n>action</span> <span class=p>=</span> <span class=n>ball</span><span class=p>.</span><span class=n>GetComponent</span><span class=p>&lt;</span><span class=n>CanonballAction</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>action</span> <span class=p>!=</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>action</span><span class=p>.</span><span class=n>SendBall</span><span class=p>(</span><span class=n>canonSpawnLocation</span><span class=p>.</span><span class=n>up</span><span class=p>,</span> <span class=n>canonForce</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>And that we now have a shooting tank!</p><p><img src=https://media.giphy.com/media/FDvaLOeTIgCDncGN72/giphy.gif loading=lazy alt=tankShoot></p><h2 id=aiming>Aiming</h2><p>So&mldr; we can move and shoot, but only aim in one direction what do I do if there is an enemy to my right, left, or behind me???</p><h3 id=rotating-the-body>Rotating the body</h3><p>So if you remember our player&rsquo;s hierarchy, it goes Empty - > Body -> Canon. And movement happens on Empty. Since we don&rsquo;t want movement to be affected by rotation, we will enact rotation on the body! This way visually it will look like it&rsquo;s rotated in underneath, but everything is still the same. We will go to <code>PlayerController</code> and add some stuff</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>body</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Update</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleMovement</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleCanonFiring</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>HandleOrientation</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Does math to calculate the angle to rotate the body so it is facing towards the mouse</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>void</span> <span class=n>HandleOrientation</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>Vector3</span> <span class=n>mousePos</span> <span class=p>=</span> <span class=n>Input</span><span class=p>.</span><span class=n>mousePosition</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>Vector3</span> <span class=n>objectPos</span> <span class=p>=</span> <span class=n>Camera</span><span class=p>.</span><span class=n>main</span><span class=p>.</span><span class=n>WorldToScreenPoint</span> <span class=p>(</span><span class=n>body</span><span class=p>.</span><span class=n>position</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>mousePos</span><span class=p>.</span><span class=n>x</span> <span class=p>=</span> <span class=n>mousePos</span><span class=p>.</span><span class=n>x</span> <span class=p>-</span> <span class=n>objectPos</span><span class=p>.</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>mousePos</span><span class=p>.</span><span class=n>y</span> <span class=p>=</span> <span class=n>mousePos</span><span class=p>.</span><span class=n>y</span> <span class=p>-</span> <span class=n>objectPos</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>angle</span> <span class=p>=</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Atan2</span><span class=p>(</span><span class=n>mousePos</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>mousePos</span><span class=p>.</span><span class=n>x</span><span class=p>)</span> <span class=p>*</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Rad2Deg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>body</span><span class=p>.</span><span class=n>rotation</span> <span class=p>=</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>Euler</span><span class=p>(</span><span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=n>angle</span> <span class=p>-</span> <span class=m>90</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>   
</span></span></code></pre></div><p>You might have noticed the canonballs are still moving in a straight up direction, that&rsquo;s because of our hierarchy!</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/hierarchyIssue.png width=550 height=210 srcset="/p/game-development-club-tutorial-top-down-shooter/hierarchyIssue_hu1deb7d851e4545fee68c453532a2a8d6_22667_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/hierarchyIssue_hu1deb7d851e4545fee68c453532a2a8d6_22667_1024x0_resize_box_3.png 1024w" loading=lazy alt=hierarchyIssue class=gallery-image data-flex-grow=261 data-flex-basis=628px></p><p>If you take a look, the CanonSpawnLocation object (which is used for both deciding where to spawn the canonballs and what the <strong>direction</strong> of their movement is) is not under the body. This means that when the body rotates, the spawner does not! Let&rsquo;s fixing that by moving the spawner to be under the body</p><p><img src=https://media.giphy.com/media/GC3bMkUfVRmTjHZh0W/giphy.gif loading=lazy alt=workingTank></p><p>Viola! A working moving, shooting, and rotating tank!</p><h1 id=enemy>Enemy</h1><p>Now that we have a working tank, it&rsquo;s time to make a target to shoot at! ENEMIES</p><p>Let&rsquo;s start witha dummy enemy, just to shoot at</p><h2 id=dummy>Dummy</h2><h3 id=sprite-1>Sprite</h3><p>Again we need a visual representation of the enemy, let&rsquo;s use the <code>hexagon flat top</code> default sprite from Unity! Also let&rsquo;s do the same hierarchy we did with the player (Empty -> Body)</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/dummyEnemySprite.png width=2042 height=616 srcset="/p/game-development-club-tutorial-top-down-shooter/dummyEnemySprite_hu961f5ade31df9f783b3f0cc02e0742b3_92148_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/dummyEnemySprite_hu961f5ade31df9f783b3f0cc02e0742b3_92148_1024x0_resize_box_3.png 1024w" loading=lazy alt=dummySprite class=gallery-image data-flex-grow=331 data-flex-basis=795px></p><p>Let&rsquo;s go ahead and make this a prefab for future use</p><h3 id=collision>Collision</h3><p>So if you move the player towards the enemy or shoot at it, you&rsquo;ll notice that everything goes through it. That&rsquo;s because there is no notion of collision for this enemy. We can fix that by adding a collider!</p><p>Go ahead an add a <code>CircleCollider2D</code> this is a circular collider for our enemy (close enough to the hexagon shape, does not need to be exact)</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/dummyEnemyCollider.png width=1752 height=752 srcset="/p/game-development-club-tutorial-top-down-shooter/dummyEnemyCollider_hu17a38894c067936b87f80de432167e1d_159813_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/dummyEnemyCollider_hu17a38894c067936b87f80de432167e1d_159813_1024x0_resize_box_3.png 1024w" loading=lazy alt=enemyCollider class=gallery-image data-flex-grow=232 data-flex-basis=559px></p><p>This is not enough, colliders only work against other colliders, so we need to add colliders to our canonballs and player</p><p>Go ahead an add a <code>CircleCollider2D</code> to the canonball prefab and a <code>BoxCollider2D</code> to our player</p><p>Now if we launch the game, we&rsquo;ll see that everything collides now!</p><p><img src=https://media.giphy.com/media/aRmSs5rcZvRyOQfzCM/giphy.gif loading=lazy alt=shootDummy></p><h3 id=enemy-statuslogic>Enemy Status/Logic</h3><p>So now we have a visual representation of the enemy, we need to give it some substance (health, damage, death)</p><p>We&rsquo;re going to create a script for any enemy to use, but we&rsquo;re going to do it in a different way. In the project tab right click and do <code>Create -> C# Script</code> and let&rsquo;s call it <code>EnemyBase</code> this will hold logic that all enemies need</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>EnemyBase</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>maxHealth</span> <span class=p>=</span> <span class=m>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>curHealth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>curHealth</span> <span class=p>=</span> <span class=n>maxHealth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// This runs whenever an object with a collider touches this object</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnCollisionEnter2D</span><span class=p>(</span><span class=n>Collision2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>collider</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;canon&#34;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>curHealth</span> <span class=p>&lt;=</span> <span class=m>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>Destroy</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>curHealth</span><span class=p>--;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>If you check in the code, we compare against a <code>tag</code>, this is a piece of metadata you can attach to objects, we&rsquo;re going to give this metadata to our canons.</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/tagCanon.png width=702 height=600 srcset="/p/game-development-club-tutorial-top-down-shooter/tagCanon_hu0df016ac953ad458bae90921f18a33ef_125245_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/tagCanon_hu0df016ac953ad458bae90921f18a33ef_125245_1024x0_resize_box_3.png 1024w" loading=lazy alt=tagCanon class=gallery-image data-flex-grow=117 data-flex-basis=280px></p><p>To test this, let&rsquo;s attach it to our dummy enemy</p><p><img src=https://media.giphy.com/media/AK5OjYa5HDJgRYs3Vo/giphy.gif loading=lazy alt=dummytest></p><p>Awesome! We have an enemy that albiet can&rsquo;t move or attack you, can take damage and die!</p><p>Side note: We can do the same logic we used for destroying the enemy for the canonballs. In <code>CanonballAction</code>, we can add:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnCollisionEnter2D</span><span class=p>(</span><span class=n>Collision2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>Destroy</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p><img src=https://media.giphy.com/media/hAFCRiQZ6NiYcFzLJj/giphy.gif loading=lazy alt=canonDie></p><h2 id=follow-enenmy>Follow Enenmy</h2><p>Now with this base enenmy logic, let&rsquo;s make an enemy that follows the player</p><h3 id=follow-logic>Follow Logic</h3><p>Let&rsquo;s make a new script called <code>FollowEnemy</code>. It will inherit the logic from <code>EnemyBase</code> (health, damage, death), but we will insert new logic for following the player</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>FollowEnemy</span> <span class=p>:</span> <span class=n>EnemyBase</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>target</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>movementSpeed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Update is called once per frame</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Update</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>Vector2</span> <span class=n>direction</span> <span class=p>=</span> <span class=n>target</span><span class=p>.</span><span class=n>position</span> <span class=p>-</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>float</span> <span class=n>angle</span> <span class=p>=</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Atan2</span><span class=p>(</span><span class=n>direction</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>direction</span><span class=p>.</span><span class=n>x</span><span class=p>)</span> <span class=p>*</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Rad2Deg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>transform</span><span class=p>.</span><span class=n>rotation</span> <span class=p>=</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>Euler</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=n>angle</span> <span class=p>-</span> <span class=m>90</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=n>transform</span><span class=p>.</span><span class=n>position</span> <span class=p>=</span> <span class=n>transform</span><span class=p>.</span><span class=n>up</span> <span class=p>*</span> <span class=n>movementSpeed</span> <span class=p>*</span> <span class=n>Time</span><span class=p>.</span><span class=n>deltaTime</span> <span class=p>+</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This tells the enemy to look at the target and move towards it</p><p><img src=https://media.giphy.com/media/jWHOUvPe0NJO8oasMv/giphy.gif loading=lazy alt=followEnemy></p><h3 id=damaging-player>Damaging Player</h3><p>Now that our enemy can follow the player, we need to let it damage the player. Let&rsquo;s go back to <code>PlayerController</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=k>public</span> <span class=kt>float</span> <span class=n>maxHealth</span> <span class=p>=</span> <span class=m>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>curHealth</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=kt>float</span> <span class=n>invisTime</span> <span class=p>=</span> <span class=m>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>bool</span> <span class=n>invis</span> <span class=p>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnTriggerStay2D</span><span class=p>(</span><span class=n>Collider2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Enemy&#34;</span> <span class=p>&amp;&amp;</span> <span class=p>!</span><span class=n>invis</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>curHealth</span> <span class=p>&lt;=</span> <span class=m>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>Debug</span><span class=p>.</span><span class=n>Log</span><span class=p>(</span><span class=s>&#34;Dead!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>StartCoroutine</span><span class=p>(</span><span class=n>takeDamage</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>IEnumerator</span> <span class=n>takeDamage</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>invis</span> <span class=p>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>curHealth</span><span class=p>--;</span>
</span></span><span class=line><span class=cl>        <span class=k>yield</span> <span class=k>return</span> <span class=k>new</span> <span class=n>WaitForSeconds</span><span class=p>(</span><span class=n>invisTime</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>invis</span> <span class=p>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>This uses a part of the colider system! <strong>Trigger</strong>! Imagine you want to detect collision without enacting the actual collision, that&rsquo;s what triggers are!</p><p>Make sure to create an <code>Enemy</code> tag for the Enemy GameObject and have these settings on the player object</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/playerCollision.png width=678 height=1230 srcset="/p/game-development-club-tutorial-top-down-shooter/playerCollision_hu3d4be69c0a952b966e95a14cc097389b_129822_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/playerCollision_hu3d4be69c0a952b966e95a14cc097389b_129822_1024x0_resize_box_3.png 1024w" loading=lazy alt=playerCollision class=gallery-image data-flex-grow=55 data-flex-basis=132px></p><h1 id=game-manager--singletons>Game Manager / Singletons</h1><p>Now that we have a working player and a working enemy we need a way to share critical information between entities in the game and perform critical game events</p><p>We call these objects <code>Managers</code> or <code>Singletons</code>, they are unique objects that have no copy existing in a scene that is accessible from all scripts</p><h2 id=general-game-manager>General Game Manager</h2><p>Some things we want to do is:</p><ol><li>Reset the level/game</li><li>Spawn the player at a particular position</li><li>Distribute the player&rsquo;s position so all enemies can find it</li><li>Whatever else we think we want to handle :3</li></ol><p>Let&rsquo;s start with creating our GameManager object(empty gameobject) along with a <code>GameManager</code> script:</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/gameManager.png width=700 height=560 srcset="/p/game-development-club-tutorial-top-down-shooter/gameManager_hu3ab0d054d8f87c494667285616ae78fb_67907_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/gameManager_hu3ab0d054d8f87c494667285616ae78fb_67907_1024x0_resize_box_3.png 1024w" loading=lazy alt=gamemanager class=gallery-image data-flex-grow=125 data-flex-basis=300px></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine.SceneManagement</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>GameManager</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>static</span> <span class=n>GameManager</span> <span class=n>_instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>static</span> <span class=n>GameManager</span> <span class=n>instance</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>_instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>playerSpawnLocation</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>playerObject</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>playerPosition</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>curPlayer</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>Awake</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>_instance</span> <span class=p>==</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>_instance</span> <span class=p>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>DontDestroyOnLoad</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Destroy</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>spawnPlayer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>Transform</span> <span class=n>getPlayerPosition</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>playerPosition</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>spawnPlayer</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>curPlayer</span> <span class=p>=</span> <span class=n>Instantiate</span><span class=p>(</span><span class=n>playerObject</span><span class=p>,</span> <span class=n>playerSpawnLocation</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>identity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>playerPosition</span> <span class=p>=</span> <span class=n>curPlayer</span><span class=p>.</span><span class=n>transform</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>reset</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>Destroy</span><span class=p>(</span><span class=n>curPlayer</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>spawnPlayer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><code>DontDestroyOnLoad</code> is a special method that marks a gameobject to never to be deleted when changing unity scenes (ex: changing levels)</p><p>A static variable belongs to the class and can be accessed from anywhere, hence why we have the variable <code>instance</code>. This way, anyone can touch this manager and call its methods</p><p>To keep in mind for future reference, the logic inside the <code>Awake()</code> method is general what is done when creating singletons</p><h2 id=updating-existing-functions>Updating Existing Functions</h2><h3 id=follow-enemy>Follow Enemy</h3><p>If you remember, our enemy uses the transform of our player to figure out how to move towards it. Sadly this won&rsquo;t work at scale since we had to manually assign the transform variable in the inspector.</p><p>Now that we have <code>GameManager</code> which can return to us the player&rsquo;s position, now is a great time to update that code.</p><p>Let&rsquo;s make some changes to <code>EnemyBase</code> and <code>FollowEnemy</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=c1>// EnemyBase.cs</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>virtual</span> <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>curHealth</span> <span class=p>=</span> <span class=n>maxHealth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=c1>// FollowEnemy.cs</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>target</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>override</span> <span class=k>void</span> <span class=n>Start</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>target</span> <span class=p>=</span>  <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>getPlayerPosition</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=k>base</span><span class=p>.</span><span class=n>Start</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Update is called once per frame</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Update</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>target</span> <span class=p>==</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span> <span class=p>=</span> <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>getPlayerPosition</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Vector2</span> <span class=n>direction</span> <span class=p>=</span> <span class=n>target</span><span class=p>.</span><span class=n>position</span> <span class=p>-</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=kt>float</span> <span class=n>angle</span> <span class=p>=</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Atan2</span><span class=p>(</span><span class=n>direction</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>direction</span><span class=p>.</span><span class=n>x</span><span class=p>)</span> <span class=p>*</span> <span class=n>Mathf</span><span class=p>.</span><span class=n>Rad2Deg</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=n>transform</span><span class=p>.</span><span class=n>rotation</span> <span class=p>=</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>Euler</span><span class=p>(</span><span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=n>angle</span> <span class=p>-</span> <span class=m>90</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=k>this</span><span class=p>.</span><span class=n>transform</span><span class=p>.</span><span class=n>position</span> <span class=p>=</span> <span class=n>transform</span><span class=p>.</span><span class=n>up</span> <span class=p>*</span> <span class=n>movementSpeed</span> <span class=p>*</span> <span class=n>Time</span><span class=p>.</span><span class=n>deltaTime</span> <span class=p>+</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><h3 id=player-death>Player Death</h3><p>Currently, if you player dies, only a print statement in the console is done. Let&rsquo;s reset the game if the player dies</p><p>Going back to <code>PlayerController</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnTriggerStay2D</span><span class=p>(</span><span class=n>Collider2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Enemy&#34;</span> <span class=p>&amp;&amp;</span> <span class=p>!</span><span class=n>invis</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>curHealth</span> <span class=p>&lt;=</span> <span class=m>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>reset</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>StartCoroutine</span><span class=p>(</span><span class=n>takeDamage</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>We&rsquo;ll destroy this version of the player and let the game manger handle recreating it, along with it&rsquo;s details</p><p>Now if we put multiple enemies into the scene:
<img src=https://media.giphy.com/media/FMoBHGx8MqFVtGprP1/giphy.gif loading=lazy alt=enemieees></p><p>Everything is looking good, very promising! Of course, the game manager can be extended further in the future, but for now let&rsquo;s move on</p><h1 id=camera>Camera</h1><p>The game camera is what allows you to view what is happening in your scene. Since objects move around in a since, they will eventually move outside of the scope of the camera. But we always have things we want to never leave the frame of the camera: THE PLAYER</p><p>Currently the camera is stantionary, does not move at allllll. Let&rsquo;s make the camera follow the the player now!</p><p>In our scene, we always have an object that is chosen to be the camera. In this case it is called <code>Main Camera</code></p><p><img src=/p/game-development-club-tutorial-top-down-shooter/camera.png width=694 height=1032 srcset="/p/game-development-club-tutorial-top-down-shooter/camera_hu04dee188e45fdfa64545c81ff3d1c427_112366_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/camera_hu04dee188e45fdfa64545c81ff3d1c427_112366_1024x0_resize_box_3.png 1024w" loading=lazy alt=camera class=gallery-image data-flex-grow=67 data-flex-basis=161px></p><p>Let&rsquo;s add a new script to this object called <code>CameraFollow</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>CameraFollow</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl><span class=na>    [Range(0.005f, 0.05f)]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>followSpeed</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Transform</span> <span class=n>target</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// Start is called before the first frame update</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>target</span> <span class=p>=</span> <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>getPlayerPosition</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// LateUpdate gets called after Update and FixedUpdate</span>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>LateUpdate</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>target</span> <span class=p>==</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>target</span> <span class=p>=</span> <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>getPlayerPosition</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Vector2</span> <span class=n>newPos</span> <span class=p>=</span> <span class=n>Vector2</span><span class=p>.</span><span class=n>Lerp</span><span class=p>(</span><span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>target</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>followSpeed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>transform</span><span class=p>.</span><span class=n>position</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Vector3</span><span class=p>(</span><span class=n>newPos</span><span class=p>.</span><span class=n>x</span><span class=p>,</span> <span class=n>newPos</span><span class=p>.</span><span class=n>y</span><span class=p>,</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>.</span><span class=n>z</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This script does a simple action of moving the position towards the player&rsquo;s position at a given speed.</p><p>Again, with our game manager already made, grabbing the player&rsquo;s position is very easy</p><p><img src=https://media.giphy.com/media/QDDQC4fhRGeoMrTc9l/giphy.gif loading=lazy alt=cameraAction></p><h1 id=ui>UI</h1><p>At this point, we&rsquo;ve created almost all the pieces needed before we can start making levels</p><p>We have a notion of health under the hood but we can&rsquo;t tell that it exists on the screen. It&rsquo;s time to add a UI</p><p>To add a canvas, go to the hierarchy, right click and create a canvas, name it <code>UI</code></p><p><img src=/p/game-development-club-tutorial-top-down-shooter/uiCreation.png width=1282 height=1476 srcset="/p/game-development-club-tutorial-top-down-shooter/uiCreation_hu32c16fad4201e8c7e1134a8c907a2a33_366071_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/uiCreation_hu32c16fad4201e8c7e1134a8c907a2a33_366071_1024x0_resize_box_3.png 1024w" loading=lazy alt=uiCreation class=gallery-image data-flex-grow=86 data-flex-basis=208px></p><p>On the UI, set the canvas scaler to scale with the screen size (WE DON&rsquo;T WANT A FIXED SIZED CANVAS)</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/canvasScaler.png width=678 height=266 srcset="/p/game-development-club-tutorial-top-down-shooter/canvasScaler_hu64efa1ad59513a27c3cf27c81bcd56d4_36839_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/canvasScaler_hu64efa1ad59513a27c3cf27c81bcd56d4_36839_1024x0_resize_box_3.png 1024w" loading=lazy alt=canvasScaler class=gallery-image data-flex-grow=254 data-flex-basis=611px></p><p>Let&rsquo;s make this a prefab so we can spawn it in through the <code>GameManager</code></p><p>For easier editing, I recommend opening up the UI prefab so all you have to see is the UI area</p><h2 id=health-bar>Health Bar</h2><h3 id=sprite-2>Sprite</h3><p>We need a sprite to use for the health bar. Guess what? We&rsquo;re gonna use default sprites AGAIN!</p><p>Go ahead and go to the projet tab and create a sprite rectangle</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/healthBarSprite.png width=2076 height=2138 srcset="/p/game-development-club-tutorial-top-down-shooter/healthBarSprite_hu9e15dfb4b7124b73d3d9011845a33628_1158539_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/healthBarSprite_hu9e15dfb4b7124b73d3d9011845a33628_1158539_1024x0_resize_box_3.png 1024w" loading=lazy alt=healthSprite class=gallery-image data-flex-grow=97 data-flex-basis=233px></p><p>Make sure to name it <code>healthbar</code> or something similar so we can find it later</p><p>Go ahead and create a UI image under the UI gameobject</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/healthUI.png width=1116 height=1562 srcset="/p/game-development-club-tutorial-top-down-shooter/healthUI_hu3c6eafb580f4d503e1e7846c2c04cd2c_526129_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/healthUI_hu3c6eafb580f4d503e1e7846c2c04cd2c_526129_1024x0_resize_box_3.png 1024w" loading=lazy alt=healthUI class=gallery-image data-flex-grow=71 data-flex-basis=171px></p><p>call it <code>HealthBarBg</code>, we&rsquo;re going to use it as the background for our health bar</p><p>In the Inspector, set the image to be the healthbar sprite we created in the project tab (it might be a different name, but it&rsquo;s a rectangle sprite)</p><p>Go ahead and make it black too</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/healthBarSetting.png width=896 height=506 srcset="/p/game-development-club-tutorial-top-down-shooter/healthBarSetting_hu60393d784ba15857d4f01c5798177be7_54832_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/healthBarSetting_hu60393d784ba15857d4f01c5798177be7_54832_1024x0_resize_box_3.png 1024w" loading=lazy alt=setting class=gallery-image data-flex-grow=177 data-flex-basis=424px></p><p>Next, duplicate this object and make it a child of <code>HealthBarBg</code> call it just <code>HealthBar</code>. Set it to these settings:</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/redHealthBar.png width=686 height=546 srcset="/p/game-development-club-tutorial-top-down-shooter/redHealthBar_hubdc635a2915f08218da7ae4d315da0ff_62725_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/redHealthBar_hubdc635a2915f08218da7ae4d315da0ff_62725_1024x0_resize_box_3.png 1024w" loading=lazy alt=healthBar class=gallery-image data-flex-grow=125 data-flex-basis=301px></p><h3 id=ui-logic>UI Logic</h3><p>Since there is only every going to be one existing UI, let&rsquo;s make it a <code>Singleton/Manager</code>! That way anything that needs to touch the UI can reach it</p><p>On the top UI gameobject, creating a script called <code>UIManager</code>. Using the similar logic to the <code>GameManager</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine.UI</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>UIManager</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=k>static</span> <span class=n>UIManager</span> <span class=n>_instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>static</span> <span class=n>UIManager</span> <span class=n>instance</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>get</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> <span class=n>_instance</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>Image</span> <span class=n>healthBar</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>Awake</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>_instance</span> <span class=p>==</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>_instance</span> <span class=p>=</span> <span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>DontDestroyOnLoad</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>Destroy</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>gameObject</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>setHealth</span><span class=p>(</span><span class=kt>float</span> <span class=n>precentage</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>healthBar</span><span class=p>.</span><span class=n>fillAmount</span> <span class=p>=</span> <span class=n>precentage</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Inside <code>GameManager</code> we&rsquo;re going to make some additional changes:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>uiObject</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>spawnUI</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=n>spawnPlayer</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>spawnUI</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>Instantiate</span><span class=p>(</span><span class=n>uiObject</span><span class=p>,</span> <span class=n>Vector3</span><span class=p>.</span><span class=n>zero</span><span class=p>,</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>identity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>In the inspector you can attach the health bar image as <code>UIManager</code>&rsquo;s <code>healthbar</code> variable. You can also set the UI prefab to be the <code>uiObject</code> variable in <code>GameManager</code></p><p>Let&rsquo;s start using this healthbar!!! In <code>PlayerController</code>, we&rsquo;ll make a tiny change:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=k>void</span> <span class=n>Start</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>curHealth</span> <span class=p>=</span> <span class=n>maxHealth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>UIManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>setHealth</span><span class=p>(</span><span class=m>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=n>IEnumerator</span> <span class=n>takeDamage</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>invis</span> <span class=p>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>curHealth</span><span class=p>--;</span>
</span></span><span class=line><span class=cl>        <span class=n>UIManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>setHealth</span><span class=p>(</span><span class=n>curHealth</span><span class=p>/</span><span class=n>maxHealth</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>yield</span> <span class=k>return</span> <span class=k>new</span> <span class=n>WaitForSeconds</span><span class=p>(</span><span class=n>invisTime</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>invis</span> <span class=p>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>Now we have a working health bar!!!
<img src=https://media.giphy.com/media/F5Z5yM28Fxdaz8olXK/giphy.gif loading=lazy alt=healthInAction></p><h1 id=level-making>Level Making</h1><p>With that, we have enough to make our level!!!</p><h2 id=boxing-out-level>Boxing out level</h2><p>Let&rsquo;s clear out our scene to only have the camera, Global Light, GameManager, and Player Spawn position in it</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/minimalScene.png width=365 height=198 srcset="/p/game-development-club-tutorial-top-down-shooter/minimalScene_hu38f356a73914cdb9c25d9d7ecfd5fb49_11575_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/minimalScene_hu38f356a73914cdb9c25d9d7ecfd5fb49_11575_1024x0_resize_box_3.png 1024w" loading=lazy alt=minimal class=gallery-image data-flex-grow=184 data-flex-basis=442px></p><p>Let&rsquo;s make this game a horror house, where you need to reach the end of the map without dying to win the game.</p><p>We&rsquo;re going to just block out the level using the default sprites of unity</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/levelBlock.png width=890 height=974 srcset="/p/game-development-club-tutorial-top-down-shooter/levelBlock_hu7edc9949a9619ffac0244658b32bbdd6_45607_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/levelBlock_hu7edc9949a9619ffac0244658b32bbdd6_45607_1024x0_resize_box_3.png 1024w" loading=lazy alt=levelBlock class=gallery-image data-flex-grow=91 data-flex-basis=219px></p><p>This will be the layout of our level! If you run it now though, the player can easily move outside of the boudaries, so let&rsquo;s make boundaries!</p><p>It&rsquo;s a pretty simple process, give all the blocks of the level colliders with the &ldquo;Used by Composite&rdquo; option toggled</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/boundary.png width=1940 height=522 srcset="/p/game-development-club-tutorial-top-down-shooter/boundary_huec7e89d078e41f373091577331839f06_134458_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/boundary_huec7e89d078e41f373091577331839f06_134458_1024x0_resize_box_3.png 1024w" loading=lazy alt=boundary class=gallery-image data-flex-grow=371 data-flex-basis=891px></p><p>Then give them a parent and attach the <code>Composite Collider 2D</code> component, this puts all the coliders together to be come one giant collider</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/compositeBoundary.png width=1068 height=912 srcset="/p/game-development-club-tutorial-top-down-shooter/compositeBoundary_hud301574f03d16df370578c8daf76bf07_48236_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/compositeBoundary_hud301574f03d16df370578c8daf76bf07_48236_1024x0_resize_box_3.png 1024w" loading=lazy alt=composite class=gallery-image data-flex-grow=117 data-flex-basis=281px></p><p>Now we need to change some things to the player:</p><ol><li>Change its box collider to not be a trigger</li><li>Change this set up code in <code>PlayerController</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnTriggerStay2D</span><span class=p>(</span><span class=n>Collider2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Enemy&#34;</span> <span class=p>&amp;&amp;</span> <span class=p>!</span><span class=n>invis</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>curHealth</span> <span class=p>&lt;=</span> <span class=m>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>reset</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>StartCoroutine</span><span class=p>(</span><span class=n>takeDamage</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>to</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnCollisionStay2D</span><span class=p>(</span><span class=n>Collision2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>collider</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Enemy&#34;</span> <span class=p>&amp;&amp;</span> <span class=p>!</span><span class=n>invis</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=p>(</span><span class=n>curHealth</span> <span class=p>&lt;=</span> <span class=m>1</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>reset</span><span class=p>();</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=n>StartCoroutine</span><span class=p>(</span><span class=n>takeDamage</span><span class=p>());</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>And now~ We have our boundary!!!</p><p><img src=https://media.giphy.com/media/Z0nmLehvrWha49hzvI/giphy.gif loading=lazy alt=boundary></p><h2 id=loop>Loop</h2><p>Let&rsquo;s add the finish line so when you making it to the end, it restarts to level</p><p>We&rsquo;re just going to make an yellow capsule sprite with a 2D capsulef collider set to is Trigger</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/finishCapsule.png width=2496 height=1134 srcset="/p/game-development-club-tutorial-top-down-shooter/finishCapsule_hud4f06a9d7c60222e86a015ce6830b8a0_263116_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/finishCapsule_hud4f06a9d7c60222e86a015ce6830b8a0_263116_1024x0_resize_box_3.png 1024w" loading=lazy alt=finishLine class=gallery-image data-flex-grow=220 data-flex-basis=528px></p><p>We&rsquo;re going to attach a new script to it called <code>Goal</code> and it will be a simple function</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>Goal</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnTriggerEnter2D</span><span class=p>(</span><span class=n>Collider2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Player&#34;</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>GameManager</span><span class=p>.</span><span class=n>instance</span><span class=p>.</span><span class=n>reset</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>If the player reaches this, reset the game! Reminder to give the player object to &ldquo;Player&rdquo; tag</p><h2 id=obstacles>Obstacles</h2><p>Now that we have a start and finish let&rsquo;s add some obstacles!</p><p>We can just keep using the box sprite as a different color to be obstacles.</p><p>Remember to have the &ldquo;Used by Compisite&rdquo; option off for these obstacles</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/obstacles.png width=1298 height=918 srcset="/p/game-development-club-tutorial-top-down-shooter/obstacles_hub74d95248fafd5614a2447a638f961d7_90702_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/obstacles_hub74d95248fafd5614a2447a638f961d7_90702_1024x0_resize_box_3.png 1024w" loading=lazy alt=obstacles class=gallery-image data-flex-grow=141 data-flex-basis=339px></p><h2 id=enemy-spawners>Enemy Spawners</h2><p>Finally makes spawners for our enemies, so the player has something to worry about</p><p>We&rsquo;re going to create empty gameobjects and give them trigger colliders (up to you what time), it will let us know if a player is in range to activate enemy spawning</p><p>We&rsquo;re going to attach a script called <code>EnemySpawner</code> and inside it will hold:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=k>using</span> <span class=nn>UnityEngine</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>using</span> <span class=nn>System.Collections</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>public</span> <span class=k>class</span> <span class=nc>EnemySpawner</span> <span class=p>:</span> <span class=n>MonoBehaviour</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>GameObject</span> <span class=n>enemy</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>enemyBurst</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=na>
</span></span></span><span class=line><span class=cl><span class=na>    [SerializeField]</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>float</span> <span class=n>cooldownTime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=kt>bool</span> <span class=n>available</span> <span class=p>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>void</span> <span class=n>OnTriggerEnter2D</span><span class=p>(</span><span class=n>Collider2D</span> <span class=n>other</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>other</span><span class=p>.</span><span class=n>tag</span> <span class=p>==</span> <span class=s>&#34;Player&#34;</span> <span class=p>&amp;&amp;</span> <span class=n>available</span><span class=p>){</span>
</span></span><span class=line><span class=cl>            <span class=n>StartCoroutine</span><span class=p>(</span><span class=n>spawnEnemy</span><span class=p>());</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>private</span> <span class=n>IEnumerator</span> <span class=n>spawnEnemy</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>available</span> <span class=p>=</span> <span class=k>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=p>=</span> <span class=m>0</span><span class=p>;</span> <span class=n>i</span> <span class=p>&lt;</span> <span class=n>enemyBurst</span><span class=p>;</span> <span class=n>i</span><span class=p>++){</span>
</span></span><span class=line><span class=cl>            <span class=k>yield</span> <span class=k>return</span> <span class=k>new</span> <span class=n>WaitForSeconds</span><span class=p>(</span><span class=m>0.5f</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Instantiate</span><span class=p>(</span><span class=n>enemy</span><span class=p>,</span> <span class=n>transform</span><span class=p>.</span><span class=n>position</span><span class=p>,</span> <span class=n>Quaternion</span><span class=p>.</span><span class=n>identity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>yield</span> <span class=k>return</span> <span class=k>new</span> <span class=n>WaitForSeconds</span><span class=p>(</span><span class=n>cooldownTime</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>available</span> <span class=p>=</span> <span class=k>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This will spawn our enemies if the player enters our trigger</p><p>Now everything should be working properly except&mldr;</p><p><img src=https://media.giphy.com/media/9l6BTaWSGYppXXDtBg/giphy.gif loading=lazy alt=uhoh></p><p>This is because the enemies don&rsquo;t have a rigidbody attached to them to enforce our boundaries for us! Let&rsquo;s go ahead and attach that</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/enemyRigid.png width=890 height=1530 srcset="/p/game-development-club-tutorial-top-down-shooter/enemyRigid_hu999b63b4c21d9ec78ee1d507d4fb08fd_177202_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/enemyRigid_hu999b63b4c21d9ec78ee1d507d4fb08fd_177202_1024x0_resize_box_3.png 1024w" loading=lazy alt=enemyEnforcer class=gallery-image data-flex-grow=58 data-flex-basis=139px></p><p>Now we have a working spawner!</p><p><img src=https://media.giphy.com/media/K4eG2XRfL0TGdM5Ehw/giphy.gif loading=lazy alt=kill></p><p><img src=https://media.giphy.com/media/vvCoAJuKjf2pUvo1BZ/giphy.gif loading=lazy alt=hurt></p><p>Everythings working! Now for one final touch. Currently the background is blue due to the camera being set that way.</p><p>Let&rsquo;s make it fit the theme of the room! Go to the main camera and look at the enviornment tab. There you should see a background color to set, go ahead and set it to black</p><p><img src=/p/game-development-club-tutorial-top-down-shooter/cameraBackground.png width=898 height=724 srcset="/p/game-development-club-tutorial-top-down-shooter/cameraBackground_hu8fe6596aba395d00e4fc51de17e6f2f8_83920_480x0_resize_box_3.png 480w, /p/game-development-club-tutorial-top-down-shooter/cameraBackground_hu8fe6596aba395d00e4fc51de17e6f2f8_83920_1024x0_resize_box_3.png 1024w" loading=lazy alt=cambg class=gallery-image data-flex-grow=124 data-flex-basis=297px></p><p>Now we have a working game!</p><p><img src=https://media.giphy.com/media/XBuy9qvp3CDZes7YC5/giphy.gif loading=lazy alt=final></p><p>To summarize some of the main things we&rsquo;ve created:</p><ul><li>Working Character movement system</li><li>Canon shooting ability</li><li>GameManager System</li><li>UI Manager System</li><li>Collision</li><li>Game Loop</li><li>Enemies</li></ul><p>Hope you&rsquo;ve learned many things in this tutorial!!!</p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/my-unreal-adventure-blog-1-unreal-engine-intro/><div class=article-image><img src=https://media.giphy.com/media/22VCh90itjL8rr5uza/giphy.gif loading=lazy data-key data-hash=https://media.giphy.com/media/22VCh90itjL8rr5uza/giphy.gif></div><div class=article-details><h2 class=article-title>My Unreal Adventure! Blog 1: Unreal Engine Intro</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2022 Esau's Page</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.14.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>